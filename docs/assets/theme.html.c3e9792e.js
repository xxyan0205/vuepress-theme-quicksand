import{r as n,o as s,c as a,a as e,w as t,F as o,b as p,d as l}from"./app.bd6623af.js";const c={},u=e("h1",{id:"writing-a-theme",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#writing-a-theme","aria-hidden":"true"},"#"),p(" Writing a Theme")],-1),r={class:"custom-container tip"},i=e("p",{class:"custom-container-title"},"TIP",-1),d=p("Before reading this guide, you'd better learn the guide of "),k=p("Writing a Plugin"),m=p(" first."),b=e("h2",{id:"create-a-theme",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#create-a-theme","aria-hidden":"true"},"#"),p(" Create a Theme")],-1),h=p("A VuePress theme is a special plugin, which should satisfy the "),g=p("Theme API"),v=p(". Like plugins, a theme can also be a "),f=e("em",null,"Theme Object",-1),y=p(" or a "),j=e("em",null,"Theme Function",-1),x=p("."),q=e("div",{class:"theme-code-dark"},[e("div",{class:"language-javascript ext-js line-numbers-mode"},[e("pre",{class:"language-javascript"},[e("code",null,[e("span",{class:"token keyword"},"const"),p(),e("span",{class:"token punctuation"},"{"),p(" path "),e("span",{class:"token punctuation"},"}"),p(),e("span",{class:"token operator"},"="),p(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'@vuepress/utils'"),e("span",{class:"token punctuation"},")"),p("\n\n"),e("span",{class:"token keyword"},"const"),p(" fooTheme "),e("span",{class:"token operator"},"="),p(),e("span",{class:"token punctuation"},"{"),p("\n  name"),e("span",{class:"token operator"},":"),p(),e("span",{class:"token string"},"'vuepress-theme-foo'"),e("span",{class:"token punctuation"},","),p("\n  layouts"),e("span",{class:"token operator"},":"),p(),e("span",{class:"token punctuation"},"{"),p("\n    Layout"),e("span",{class:"token operator"},":"),p(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"resolve"),e("span",{class:"token punctuation"},"("),p("__dirname"),e("span",{class:"token punctuation"},","),p(),e("span",{class:"token string"},"'layouts/Layout.vue'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p("\n    "),e("span",{class:"token number"},"404"),e("span",{class:"token operator"},":"),p(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"resolve"),e("span",{class:"token punctuation"},"("),p("__dirname"),e("span",{class:"token punctuation"},","),p(),e("span",{class:"token string"},"'layouts/404.vue'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),p("\n  "),e("span",{class:"token comment"},"// ..."),p("\n"),e("span",{class:"token punctuation"},"}"),p("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br")])])],-1),w=e("div",{class:"theme-code-dark"},[e("div",{class:"language-javascript ext-js line-numbers-mode"},[e("pre",{class:"language-javascript"},[e("code",null,[e("span",{class:"token keyword"},"const"),p(),e("span",{class:"token punctuation"},"{"),p(" path "),e("span",{class:"token punctuation"},"}"),p(),e("span",{class:"token operator"},"="),p(),e("span",{class:"token function"},"require"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'@vuepress/utils'"),e("span",{class:"token punctuation"},")"),p("\n\n"),e("span",{class:"token keyword"},"const"),p(),e("span",{class:"token function-variable function"},"fooTheme"),p(),e("span",{class:"token operator"},"="),p(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[p("options"),e("span",{class:"token punctuation"},","),p(" app")]),e("span",{class:"token punctuation"},")"),p(),e("span",{class:"token operator"},"=>"),p(),e("span",{class:"token punctuation"},"{"),p("\n  "),e("span",{class:"token keyword"},"return"),p(),e("span",{class:"token punctuation"},"{"),p("\n    name"),e("span",{class:"token operator"},":"),p(),e("span",{class:"token string"},"'vuepress-theme-foo'"),e("span",{class:"token punctuation"},","),p("\n    layouts"),e("span",{class:"token operator"},":"),p(),e("span",{class:"token punctuation"},"{"),p("\n      Layout"),e("span",{class:"token operator"},":"),p(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"resolve"),e("span",{class:"token punctuation"},"("),p("__dirname"),e("span",{class:"token punctuation"},","),p(),e("span",{class:"token string"},"'layouts/Layout.vue'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p("\n      "),e("span",{class:"token number"},"404"),e("span",{class:"token operator"},":"),p(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"resolve"),e("span",{class:"token punctuation"},"("),p("__dirname"),e("span",{class:"token punctuation"},","),p(),e("span",{class:"token string"},"'layouts/404.vue'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p("\n    "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),p("\n    "),e("span",{class:"token comment"},"// ..."),p("\n  "),e("span",{class:"token punctuation"},"}"),p("\n"),e("span",{class:"token punctuation"},"}"),p("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br")])])],-1),_=e("p",null,[p("The "),e("code",null,"layouts"),p(" field declares the layouts provided by your theme.")],-1),T=e("p",null,[p("A theme must provide at least two layouts: "),e("code",null,"Layout"),p(" and "),e("code",null,"404"),p(".")],-1),L=p("The "),P=e("code",null,"Layout",-1),S=p(" layout should contain the "),C=p("Content"),N=p(" component to display the markdown content:"),I=l('<div class="theme-code-dark"><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><p>The <code>404</code> layout will be used for the <code>404.html</code> page:</p><div class="theme-code-dark"><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>404 Not Found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div>',3),M=p("You can provide more layouts, and users can change layout via "),F=p("layout"),A=p(" frontmatter."),E=l('<h2 id="publish-to-npm" tabindex="-1"><a class="header-anchor" href="#publish-to-npm" aria-hidden="true">#</a> Publish to NPM</h2><p>The typical structure of a theme package is as follow:</p><div class="theme-code-dark"><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>vuepress-theme-foo\n├─ lib\n│  ├─ layouts\n│  │  ├─ Layout.vue\n│  │  └─ <span class="token number">404</span>.vue\n│  └─ index.js\n└─ package.json\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><h3 id="theme-entry" tabindex="-1"><a class="header-anchor" href="#theme-entry" aria-hidden="true">#</a> Theme Entry</h3><p>The <code>lib/index.js</code> file is the theme entry, which should export the theme directly:</p>',5),J=e("div",{class:"theme-code-dark"},[e("div",{class:"language-javascript ext-js line-numbers-mode"},[e("pre",{class:"language-javascript"},[e("code",null,[p("module"),e("span",{class:"token punctuation"},"."),p("exports "),e("span",{class:"token operator"},"="),p(" fooTheme\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])],-1),O=e("div",{class:"theme-code-dark"},[e("div",{class:"language-javascript ext-js line-numbers-mode"},[e("pre",{class:"language-javascript"},[e("code",null,[e("span",{class:"token keyword"},"export"),p(),e("span",{class:"token keyword"},"default"),p(" fooTheme\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])],-1),G={class:"custom-container tip"},W=e("p",{class:"custom-container-title"},"TIP",-1),B=e("p",null,"Notice that the theme entry will be loaded in Node, so it should be in CommonJS format.",-1),R=p("If you are using ESM format, you'll need to use "),V={href:"https://babeljs.io/",target:"_blank",rel:"noopener noreferrer"},Y=p("babel"),z=p(" or "),D={href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"},H=p("typescript"),K=p(" to transpile it into CommonJS."),Q=e("h3",{id:"package-json",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#package-json","aria-hidden":"true"},"#"),p(" package.json")],-1),U=p("The "),X={href:"https://docs.npmjs.com/cli/v6/configuring-npm/package-json",target:"_blank",rel:"noopener noreferrer"},Z=p("package.json"),$=p(" file is required to publish a package to NPM:"),nn=l('<div class="theme-code-dark"><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress-theme-foo&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;vuepress-theme&quot;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lib/index.js&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;lib&quot;</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div><ul><li>Set <code>name</code> to follow the naming convention: <code>vuepress-theme-xxx</code> or <code>@org/vuepress-theme-xxx</code>.</li><li>Set <code>keywords</code> to include <code>vuepress-theme</code>, so that users can search your theme on NPM.</li><li>Set <code>main</code> to the theme entry file.</li><li>Set <code>files</code> to only publish those files inside <code>lib</code> directory.</li></ul>',2);c.render=function(p,l){const c=n("RouterLink"),sn=n("CodeGroupItem"),an=n("CodeGroup"),en=n("OutboundLink");return s(),a(o,null,[u,e("div",r,[i,e("p",null,[d,e(c,{to:"/advanced/plugin.html"},{default:t((()=>[k])),_:1}),m])]),b,e("p",null,[h,e(c,{to:"/reference/theme-api.html"},{default:t((()=>[g])),_:1}),v,f,y,j,x]),e(an,null,{default:t((()=>[e(sn,{title:"Theme Object",active:""},{default:t((()=>[q])),_:1}),e(sn,{title:"Theme Function"},{default:t((()=>[w])),_:1})])),_:1}),_,T,e("p",null,[L,P,S,e(c,{to:"/reference/components.html#content"},{default:t((()=>[C])),_:1}),N]),I,e("p",null,[M,e(c,{to:"/reference/frontmatter.html#layout"},{default:t((()=>[F])),_:1}),A]),E,e(an,null,{default:t((()=>[e(sn,{title:"CJS",active:""},{default:t((()=>[J])),_:1}),e(sn,{title:"ESM"},{default:t((()=>[O])),_:1})])),_:1}),e("div",G,[W,B,e("p",null,[R,e("a",V,[Y,e(en)]),z,e("a",D,[H,e(en)]),K])]),Q,e("p",null,[U,e("a",X,[Z,e(en)]),$]),nn],64)};export default c;
